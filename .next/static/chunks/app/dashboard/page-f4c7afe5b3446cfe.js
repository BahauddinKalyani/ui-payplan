(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{8977:(e,t,a)=>{Promise.resolve().then(a.bind(a,6749))},8542:(e,t,a)=>{"use strict";a.d(t,{k:()=>r});var s=a(8472);let n="http://localhost:8000/api/v1";s.Z.defaults.withCredentials=!0;let r={checkAuth:async()=>{try{let e=await s.Z.get("".concat(n,"/check-auth"),{headers:{"Content-Type":"application/json"}});if(200===e.status)return!0;return!1}catch(e){return!1}},login:async e=>{try{let t=new FormData;for(let[a,s]of Object.entries(e))t.append(a,s);return await s.Z.post("".concat(n,"/login"),t,{headers:{"Content-Type":"multipart/form-data"}})}catch(e){var t;throw(null===(t=e.response)||void 0===t?void 0:t.data)||e.message}},signup:async e=>{try{return await s.Z.post("".concat(n,"/signup"),e,{headers:{"Content-Type":"application/json"}})}catch(e){var t;throw(null===(t=e.response)||void 0===t?void 0:t.data)||e.message}},confirm_signup:async e=>{try{return await s.Z.post("".concat(n,"/confirm-signup"),e,{headers:{"Content-Type":"application/json"}})}catch(e){var t;throw(null===(t=e.response)||void 0===t?void 0:t.data)||e.message}},logout:async()=>{try{return await s.Z.post("".concat(n,"/logout"),{headers:{"Content-Type":"application/json"}})}catch(t){var e;throw(null===(e=t.response)||void 0===e?void 0:e.data)||t.message}}}},6749:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>tV});var s=a(7437),n=a(2265),r=a(6463),l=a(8542),i=a(9436),o=a(2447),d=a(8771);let c=o.fC,u=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(o.aV,{ref:t,className:(0,d.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...n})});u.displayName=o.aV.displayName;let m=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(o.xz,{ref:t,className:(0,d.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...n})});m.displayName=o.xz.displayName;let x=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(o.VY,{ref:t,className:(0,d.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...n})});x.displayName=o.VY.displayName;var f=a(4458);let p=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(f.fC,{ref:t,className:(0,d.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...n})});p.displayName=f.fC.displayName,n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(f.Ee,{ref:t,className:(0,d.cn)("aspect-square h-full w-full",a),...n})}).displayName=f.Ee.displayName;let h=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(f.NY,{ref:t,className:(0,d.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...n})});h.displayName=f.NY.displayName;var g=a(9219),j=a(7592),y=a(2468),v=a(8165);let N=g.fC,b=g.xz;g.ZA,g.Uv,g.Tr,g.Ee,n.forwardRef((e,t)=>{let{className:a,inset:n,children:r,...l}=e;return(0,s.jsxs)(g.fF,{ref:t,className:(0,d.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",n&&"pl-8",a),...l,children:[r,(0,s.jsx)(j.Z,{className:"ml-auto"})]})}).displayName=g.fF.displayName,n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(g.tu,{ref:t,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...n})}).displayName=g.tu.displayName;let w=n.forwardRef((e,t)=>{let{className:a,sideOffset:n=4,...r}=e;return(0,s.jsx)(g.Uv,{children:(0,s.jsx)(g.VY,{ref:t,sideOffset:n,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...r})})});w.displayName=g.VY.displayName;let _=n.forwardRef((e,t)=>{let{className:a,inset:n,...r}=e;return(0,s.jsx)(g.ck,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",n&&"pl-8",a),...r})});_.displayName=g.ck.displayName,n.forwardRef((e,t)=>{let{className:a,children:n,checked:r,...l}=e;return(0,s.jsxs)(g.oC,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:r,...l,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(g.wU,{children:(0,s.jsx)(y.Z,{className:"h-4 w-4"})})}),n]})}).displayName=g.oC.displayName,n.forwardRef((e,t)=>{let{className:a,children:n,...r}=e;return(0,s.jsxs)(g.Rk,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...r,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(g.wU,{children:(0,s.jsx)(v.Z,{className:"h-2 w-2 fill-current"})})}),n]})}).displayName=g.Rk.displayName,n.forwardRef((e,t)=>{let{className:a,inset:n,...r}=e;return(0,s.jsx)(g.__,{ref:t,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",n&&"pl-8",a),...r})}).displayName=g.__.displayName,n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(g.Z0,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",a),...n})}).displayName=g.Z0.displayName;var T=a(2022),k=a(8296),C=a(2699),S=a(9896),R=a(7138),D=a(9512),O=a(6763);function z(e){var t;let a=(0,r.useRouter)(),{toast:n}=(0,O.pm)(),{theme:i,setTheme:o}=(0,D.F)(),d=()=>{!async function(){try{await l.k.logout()&&(n({title:"Logout",description:"You have been logged out successfully",variant:"success"}),a.push("/"))}catch(e){n({title:"Logout",description:"An error occurred while logging out",variant:"destructive"}),console.error(e)}}()};return(0,s.jsx)("div",{className:"sticky ".concat(e.isMobile?"pl-2 pr-6":"px-8"," top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60"),children:(0,s.jsxs)("div",{className:"flex h-14 items-center",children:[(0,s.jsx)("div",{className:"cursor-pointer",children:(0,s.jsx)(R.default,{href:"/",legacyBehavior:!0,passHref:!0,children:(0,s.jsx)("h3",{children:"MyTwoney"})})}),(0,s.jsx)("div",{className:"ml-2 hidden md:block"}),(0,s.jsx)("div",{className:"ml-auto cursor-pointer flex items-center space-x-4",children:(0,s.jsxs)(N,{children:[(0,s.jsx)(b,{asChild:!0,children:(0,s.jsx)(p,{children:(0,s.jsx)(h,{children:(null===(t=localStorage.getItem("username"))||void 0===t?void 0:t.charAt(0).toUpperCase())||"NA"})})}),(0,s.jsxs)(w,{align:"end",children:[(0,s.jsxs)(_,{children:[(0,s.jsx)(T.Z,{className:"mr-2 h-4 w-4"}),"Profile"]}),(0,s.jsxs)(_,{onClick:()=>o("light"===i?"dark":"light"),children:[(0,s.jsx)(k.Z,{className:"mr-2 h-4 w-4 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),(0,s.jsx)(C.Z,{className:"absolute mr-2 h-4 w-4 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"})," Theme"]}),(0,s.jsxs)(_,{onClick:()=>d(),children:[(0,s.jsx)(S.Z,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})})]})})}var V=a(3514),M=a(4175),I=a(2513),F=a(9733),E=a(7209);let Z=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:t,className:(0,d.cn)("w-full caption-bottom text-sm",a),...n})})});Z.displayName="Table";let A=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("thead",{ref:t,className:(0,d.cn)("[&_tr]:border-b",a),...n})});A.displayName="TableHeader";let P=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("tbody",{ref:t,className:(0,d.cn)("[&_tr:last-child]:border-0",a),...n})});P.displayName="TableBody",n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("tfoot",{ref:t,className:(0,d.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...n})}).displayName="TableFooter";let Y=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("tr",{ref:t,className:(0,d.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...n})});Y.displayName="TableRow";let q=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("th",{ref:t,className:(0,d.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...n})});q.displayName="TableHead";let U=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("td",{ref:t,className:(0,d.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...n})});U.displayName="TableCell",n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("caption",{ref:t,className:(0,d.cn)("mt-4 text-sm text-muted-foreground",a),...n})}).displayName="TableCaption";var G=a(7071);let H=G.zt,L=G.fC,W=G.xz,B=n.forwardRef((e,t)=>{let{className:a,sideOffset:n=4,...r}=e;return(0,s.jsx)(G.VY,{ref:t,sideOffset:n,className:(0,d.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...r})});B.displayName=G.VY.displayName;var K=a(3550),$=a(6649),J=a(883);let Q=[{accessorKey:"type",header:"Transaction Type",cell:e=>{let{row:t}=e;return(0,s.jsx)("div",{className:"capitalize",children:t.getValue("type")})}},{accessorKey:"name",header:"Transaction Name",cell:e=>{let{row:t}=e;return(0,s.jsx)("div",{className:"capitalize",children:t.getValue("name")})}},{accessorKey:"amount",header:"Amount",cell:e=>{let{row:t}=e;return(0,s.jsx)("div",{className:"capitalize",children:t.getValue("amount")})}},{accessorKey:"frequency",header:"Frequency",cell:e=>{let{row:t}=e;return(0,s.jsx)("div",{className:"capitalize",children:t.getValue("frequency")})}},{id:"actions",enableHiding:!1,cell:e=>{let{table:t,row:a}=e;return(0,s.jsxs)(N,{children:[(0,s.jsx)(b,{asChild:!0,children:(0,s.jsxs)(F.z,{variant:"ghost",className:"h-8 w-8 p-0",children:[(0,s.jsx)("span",{className:"sr-only",children:"Open menu"}),(0,s.jsx)(K.Z,{})]})}),(0,s.jsxs)(w,{align:"end",children:[(0,s.jsxs)(_,{onClick:()=>{var e,s;return null===(e=(s=t.options).handleEditTransaction)||void 0===e?void 0:e.call(s,a)},children:[(0,s.jsx)($.Z,{})," Edit"]}),(0,s.jsxs)(_,{onClick:()=>{var e,s;return null===(e=(s=t.options).handleDeleteTransaction)||void 0===e?void 0:e.call(s,a)},children:[(0,s.jsx)(J.Z,{})," Delete"]})]})]})}}];var X=a(3304),ee=a(4697);let et=X.fC;X.xz;let ea=X.h_;X.x8;let es=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(X.aV,{ref:t,className:(0,d.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...n})});es.displayName=X.aV.displayName;let en=n.forwardRef((e,t)=>{let{className:a,children:n,...r}=e;return(0,s.jsxs)(ea,{children:[(0,s.jsx)(es,{}),(0,s.jsxs)(X.VY,{ref:t,className:(0,d.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...r,children:[n,(0,s.jsxs)(X.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(ee.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});en.displayName=X.VY.displayName;let er=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,d.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};er.displayName="DialogHeader";let el=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,d.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};el.displayName="DialogFooter";let ei=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(X.Dx,{ref:t,className:(0,d.cn)("text-lg font-semibold leading-none tracking-tight",a),...n})});ei.displayName=X.Dx.displayName,n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(X.dk,{ref:t,className:(0,d.cn)("text-sm text-muted-foreground",a),...n})}).displayName=X.dk.displayName;var eo=a(7213);let ed=e=>{let{shouldScaleBackground:t=!0,...a}=e;return(0,s.jsx)(eo.dy.Root,{shouldScaleBackground:t,...a})};ed.displayName="Drawer",eo.dy.Trigger;let ec=eo.dy.Portal;eo.dy.Close;let eu=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(eo.dy.Overlay,{ref:t,className:(0,d.cn)("fixed inset-0 z-50 bg-black/80",a),...n})});eu.displayName=eo.dy.Overlay.displayName;let em=n.forwardRef((e,t)=>{let{className:a,children:n,...r}=e;return(0,s.jsxs)(ec,{children:[(0,s.jsx)(eu,{}),(0,s.jsxs)(eo.dy.Content,{ref:t,className:(0,d.cn)("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",a),...r,children:[(0,s.jsx)("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),n]})]})});em.displayName="DrawerContent";let ex=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,d.cn)("grid gap-1.5 p-4 text-center sm:text-left",t),...a})};ex.displayName="DrawerHeader";let ef=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,d.cn)("mt-auto flex flex-col gap-2 p-4",t),...a})};ef.displayName="DrawerFooter";let ep=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(eo.dy.Title,{ref:t,className:(0,d.cn)("text-lg font-semibold leading-none tracking-tight",a),...n})});ep.displayName=eo.dy.Title.displayName,n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(eo.dy.Description,{ref:t,className:(0,d.cn)("text-sm text-muted-foreground",a),...n})}).displayName=eo.dy.Description.displayName;var eh=a(9343),eg=a(1014),ej=a(9772),ey=a(6460),ev=a(1538),eN=a(8364);let eb=(0,a(2218).j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ew=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(eN.f,{ref:t,className:(0,d.cn)(eb(),a),...n})});ew.displayName=eN.f.displayName;let e_=eh.RV,eT=n.createContext({}),ek=e=>{let{...t}=e;return(0,s.jsx)(eT.Provider,{value:{name:t.name},children:(0,s.jsx)(eh.Qr,{...t})})},eC=()=>{let e=n.useContext(eT),t=n.useContext(eS),{getFieldState:a,formState:s}=(0,eh.Gc)(),r=a(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:l}=t;return{id:l,name:e.name,formItemId:"".concat(l,"-form-item"),formDescriptionId:"".concat(l,"-form-item-description"),formMessageId:"".concat(l,"-form-item-message"),...r}},eS=n.createContext({}),eR=n.forwardRef((e,t)=>{let{className:a,...r}=e,l=n.useId();return(0,s.jsx)(eS.Provider,{value:{id:l},children:(0,s.jsx)("div",{ref:t,className:(0,d.cn)("space-y-2",a),...r})})});eR.displayName="FormItem";let eD=n.forwardRef((e,t)=>{let{className:a,...n}=e,{error:r,formItemId:l}=eC();return(0,s.jsx)(ew,{ref:t,className:(0,d.cn)(r&&"text-destructive",a),htmlFor:l,...n})});eD.displayName="FormLabel";let eO=n.forwardRef((e,t)=>{let{...a}=e,{error:n,formItemId:r,formDescriptionId:l,formMessageId:i}=eC();return(0,s.jsx)(ev.g7,{ref:t,id:r,"aria-describedby":n?"".concat(l," ").concat(i):"".concat(l),"aria-invalid":!!n,...a})});eO.displayName="FormControl";let ez=n.forwardRef((e,t)=>{let{className:a,...n}=e,{formDescriptionId:r}=eC();return(0,s.jsx)("p",{ref:t,id:r,className:(0,d.cn)("text-sm text-muted-foreground",a),...n})});ez.displayName="FormDescription";let eV=n.forwardRef((e,t)=>{let{className:a,children:n,...r}=e,{error:l,formMessageId:i}=eC(),o=l?String(null==l?void 0:l.message):n;return o?(0,s.jsx)("p",{ref:t,id:i,className:(0,d.cn)("text-sm font-medium text-destructive",a),...r,children:o}):null});eV.displayName="FormMessage";var eM=a(7549),eI=a(2421),eF=a(4392);let eE=eM.fC;eM.ZA;let eZ=eM.B4,eA=n.forwardRef((e,t)=>{let{className:a,children:n,...r}=e;return(0,s.jsxs)(eM.xz,{ref:t,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...r,children:[n,(0,s.jsx)(eM.JO,{asChild:!0,children:(0,s.jsx)(eI.Z,{className:"h-4 w-4 opacity-50"})})]})});eA.displayName=eM.xz.displayName;let eP=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(eM.u_,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",a),...n,children:(0,s.jsx)(eF.Z,{className:"h-4 w-4"})})});eP.displayName=eM.u_.displayName;let eY=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(eM.$G,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",a),...n,children:(0,s.jsx)(eI.Z,{className:"h-4 w-4"})})});eY.displayName=eM.$G.displayName;let eq=n.forwardRef((e,t)=>{let{className:a,children:n,position:r="popper",...l}=e;return(0,s.jsx)(eM.h_,{children:(0,s.jsxs)(eM.VY,{ref:t,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:r,...l,children:[(0,s.jsx)(eP,{}),(0,s.jsx)(eM.l_,{className:(0,d.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),(0,s.jsx)(eY,{})]})})});eq.displayName=eM.VY.displayName,n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(eM.__,{ref:t,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...n})}).displayName=eM.__.displayName;let eU=n.forwardRef((e,t)=>{let{className:a,children:n,...r}=e;return(0,s.jsxs)(eM.ck,{ref:t,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...r,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(eM.wU,{children:(0,s.jsx)(y.Z,{className:"h-4 w-4"})})}),(0,s.jsx)(eM.eT,{children:n})]})});eU.displayName=eM.ck.displayName,n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(eM.Z0,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",a),...n})}).displayName=eM.Z0.displayName;var eG=a(518),eH=a(3045);function eL(e){let{className:t,classNames:a,showOutsideDays:n=!0,...r}=e;return(0,s.jsx)(eH._W,{showOutsideDays:n,className:(0,d.cn)("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,d.cn)((0,F.d)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,d.cn)((0,F.d)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...a},components:{IconLeft:e=>{let{...t}=e;return(0,s.jsx)(eG.Z,{className:"h-4 w-4"})},IconRight:e=>{let{...t}=e;return(0,s.jsx)(j.Z,{className:"h-4 w-4"})}},...r})}eL.displayName="Calendar";var eW=a(1485);let eB=eW.fC,eK=eW.xz,e$=n.forwardRef((e,t)=>{let{className:a,align:n="center",sideOffset:r=4,...l}=e;return(0,s.jsx)(eW.h_,{children:(0,s.jsx)(eW.VY,{ref:t,align:n,sideOffset:r,className:(0,d.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...l})})});e$.displayName=eW.VY.displayName;var eJ=a(8472);let eQ="http://localhost:8000/api/v1";eJ.Z.defaults.withCredentials=!0;let eX={get_user_transactions:async e=>{try{return await eJ.Z.get("".concat(eQ,"/users/").concat(e,"/transactions"),{headers:{"Content-Type":"application/json"}})}catch(e){var t;throw(null===(t=e.response)||void 0===t?void 0:t.data)||e.message}},create_transaction:async e=>{try{return await eJ.Z.post("".concat(eQ,"/transactions"),e,{headers:{"Content-Type":"application/json"}})}catch(e){var t;throw(null===(t=e.response)||void 0===t?void 0:t.data)||e.message}},update_transaction:async e=>{try{return await eJ.Z.put("".concat(eQ,"/transactions/").concat(e.id),e,{headers:{"Content-Type":"application/json"}})}catch(e){var t;throw(null===(t=e.response)||void 0===t?void 0:t.data)||e.message}},delete_transaction:async e=>{try{return await eJ.Z.delete("".concat(eQ,"/transactions/").concat(e),{headers:{"Content-Type":"application/json"}})}catch(e){var t;throw(null===(t=e.response)||void 0===t?void 0:t.data)||e.message}},get_calendar_data:async e=>{try{return await eJ.Z.get("".concat(eQ,"/users/").concat(e,"/balance"),{headers:{"Content-Type":"application/json"}})}catch(e){var t;throw(null===(t=e.response)||void 0===t?void 0:t.data)||e.message}},mark_onboarding_completed:async(e,t)=>{try{return await eJ.Z.post("".concat(eQ,"/users/").concat(e,"/mark-onboarding-completed"),t,{headers:{"Content-Type":"application/json"}})}catch(e){var a;throw(null===(a=e.response)||void 0===a?void 0:a.data)||e.message}}};var e0=a(2183);function e1(){return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(e0.O,{className:"h-8 w-full"})," ",(0,s.jsx)(e0.O,{className:"h-10 w-full"})," "]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(e0.O,{className:"h-8 w-full"})," ",(0,s.jsx)(e0.O,{className:"h-10 w-full"})," "]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(e0.O,{className:"h-8 w-full"})," ",(0,s.jsx)(e0.O,{className:"h-10 w-full"})," "]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(e0.O,{className:"h-8 w-full"})," ",(0,s.jsx)(e0.O,{className:"h-10 w-full"})," "]})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(e0.O,{className:"h-8 w-full"})," ",(0,s.jsx)(e0.O,{className:"h-10 w-full"})," "]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(e0.O,{className:"h-8 w-full"})," ",(0,s.jsx)(e0.O,{className:"h-10 w-full"})," "]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(e0.O,{className:"h-8 w-full"})," ",(0,s.jsx)(e0.O,{className:"h-10 w-full"})," "]})]})]}),(0,s.jsx)(e0.O,{className:"h-12 w-full"})]})}var e2=a(343),e5=a(4241);let e4=ej.Ry({type:ej.Km(["income","expense"]),name:ej.Z_().min(1,"Name is required"),amount:ej.Rx().positive("Amount must be positive"),frequency:ej.Km(["one-time","weekly","bi-weekly","semi-monthly","monthly"]),day:ej.Rx().optional(),date_of_transaction:ej.hT().optional(),date_of_second_transaction:ej.hT().optional(),start_date:ej.hT(),end_date:ej.hT().optional(),skip_end_date:ej.O7()}).refine(e=>{var t;return e.skip_end_date||e.start_date<=(null!==(t=e.end_date)&&void 0!==t?t:e.start_date)},{message:"Start date cannot be later than end date.",path:["start_date"]}),e8=[{value:1,label:"Monday"},{value:2,label:"Tuesday"},{value:3,label:"Wednesday"},{value:4,label:"Thursday"},{value:5,label:"Friday"},{value:6,label:"Saturday"},{value:7,label:"Sunday"}],e3=[{value:"one-time",label:"One-time"},{value:"weekly",label:"Weekly"},{value:"bi-weekly",label:"Bi-weekly"},{value:"semi-monthly",label:"Semi-monthly"},{value:"monthly",label:"Monthly"}];function e6(e){let[t,a]=(0,n.useState)("one-time"),[r,l]=(0,n.useState)(""),[i,o]=(0,n.useState)(!1),[c,u]=(0,n.useState)(!1),[m,x]=(0,n.useState)(""),{toast:f}=(0,O.pm)(),p={type:"income"===e.TransactionType?"income":"expense",name:"",amount:0,frequency:"one-time",start_date:new Date,end_date:new Date,date_of_transaction:new Date,date_of_second_transaction:new Date,day:1,skip_end_date:!1},h=(0,eh.cI)({resolver:(0,eg.F)(e4),defaultValues:p}),g=e=>{x(m===e?"":e)};(0,n.useEffect)(()=>{if(e.initialValues){let t={...p,...e.initialValues,amount:parseFloat(e.initialValues.amount.toString())||0,day:parseInt(e.initialValues.day)||1,start_date:e.initialValues.start_date?(0,d.sG)(e.initialValues.start_date):new Date,end_date:e.initialValues.end_date?(0,d.sG)(e.initialValues.end_date):new Date,date_of_transaction:e.initialValues.date_of_transaction?(0,d.sG)(e.initialValues.date_of_transaction):new Date,date_of_second_transaction:e.initialValues.date_of_second_transaction?(0,d.sG)(e.initialValues.date_of_second_transaction):new Date};h.reset(t),a(t.frequency),l(e.initialValues.id),u(t.skip_end_date)}},[e.initialValues]);let j=async t=>{let a=["date_of_transaction","date_of_second_transaction","start_date","end_date"];for(let e in t)a.includes(e)?t[e]=(0,d.p6)(t[e]):"day"===e?t[e]=parseInt(t[e]):"amount"===e&&(t[e]=parseFloat(t[e]));t.user_id=localStorage.getItem("user_id");try{let a=await eX.create_transaction(t),s=[...e.transactions];s.push(a.data),e.setTransactions(s),f({title:"Success",description:"Transaction created successfully.",variant:"success"})}catch(e){f({title:"Error",description:"Transaction creation failed. "+e,variant:"destructive"})}},y=async t=>{let s=["date_of_transaction","date_of_second_transaction","start_date","end_date"];for(let e in t)s.includes(e)?t[e]=(0,d.p6)(t[e]):"day"===e?t[e]=parseInt(t[e]):"amount"===e&&(t[e]=parseFloat(t[e]));t.user_id=localStorage.getItem("user_id"),t.id=r;try{let s=await eX.update_transaction(t),n=[...e.transactions];n=n.map(e=>e.id===r?s.data:e),e.setTransactions(n),f({title:"Success",description:"Transaction updated successfully.",variant:"success"}),a(t.frequency),u(t.skip_end_date)}catch(e){console.log(e),f({title:"Error",description:"Transaction update failed. "+e,variant:"destructive"})}};return i?(0,s.jsx)(e1,{}):(0,s.jsx)(e_,{...h,children:(0,s.jsxs)("form",{onSubmit:h.handleSubmit(function(t){o(!0),c&&delete t.end_date,r?y(t):j(t),o(!1),e.setOpenTransactionForm(!1)}),children:[(0,s.jsxs)("div",{className:"space-y-8 ".concat(e.isMobile?"flex flex-col":"grid grid-cols-1 md:grid-cols-2 gap-6"),children:[(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(ek,{control:h.control,name:"type",render:t=>{let{field:a}=t;return(0,s.jsxs)(eR,{children:[(0,s.jsx)(eD,{children:"Transaction Type"}),(0,s.jsxs)(eE,{disabled:""!==e.TransactionType,onValueChange:e=>{e&&a.onChange(e)},value:a.value,children:[(0,s.jsx)(eO,{children:(0,s.jsx)(eA,{children:(0,s.jsx)(eZ,{placeholder:"Select transaction type"})})}),(0,s.jsxs)(eq,{children:[(0,s.jsx)(eU,{value:"income",children:"Income"}),(0,s.jsx)(eU,{value:"expense",children:"Expense"})]})]}),(0,s.jsx)(eV,{})]})}}),(0,s.jsx)(ek,{control:h.control,name:"name",render:e=>{let{field:t}=e;return(0,s.jsxs)(eR,{children:[(0,s.jsx)(eD,{children:"Transaction Name"}),(0,s.jsx)(eO,{children:(0,s.jsx)(E.I,{placeholder:"Transaction name",...t})}),(0,s.jsx)(eV,{})]})}}),(0,s.jsx)(ek,{control:h.control,name:"amount",render:e=>{let{field:t}=e;return(0,s.jsxs)(eR,{children:[(0,s.jsx)(eD,{children:"Transaction Amount"}),(0,s.jsx)(eO,{children:(0,s.jsx)(E.I,{type:"number",placeholder:"Amount",...t,onChange:e=>{let a=e.target.value;t.onChange(a?parseFloat(a):0)}})}),(0,s.jsx)(eV,{})]})}}),(0,s.jsx)(ek,{control:h.control,name:"frequency",render:e=>{let{field:t}=e;return(0,s.jsxs)(eR,{children:[(0,s.jsx)(eD,{children:"Transaction Frequency"}),(0,s.jsx)(ez,{children:"Select the frequency of the transaction (e.g., how often it occurs)."}),(0,s.jsxs)(eE,{onValueChange:e=>{e&&(t.onChange(e),a(e))},value:t.value,children:[(0,s.jsx)(eO,{children:(0,s.jsx)(eA,{children:(0,s.jsx)(eZ,{placeholder:"Select frequency"})})}),(0,s.jsx)(eq,{children:e3.map(e=>(0,s.jsx)(eU,{value:e.value.toString(),children:e.label},e.value))})]}),(0,s.jsx)(eV,{})]})}})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[("weekly"===t||"bi-weekly"===t)&&(0,s.jsx)(ek,{control:h.control,name:"day",render:e=>{var t;let{field:a}=e;return(0,s.jsxs)(eR,{children:[(0,s.jsx)(eD,{children:"Day of the Week"}),(0,s.jsxs)(eE,{onValueChange:e=>{if(e){let t=parseInt(e);a.onChange(t)}},value:null===(t=a.value)||void 0===t?void 0:t.toString(),children:[(0,s.jsx)(eO,{children:(0,s.jsx)(eA,{children:(0,s.jsx)(eZ,{placeholder:"Select day"})})}),(0,s.jsx)(eq,{children:e8.map(e=>(0,s.jsx)(eU,{value:e.value.toString(),children:e.label},e.value))})]}),(0,s.jsx)(eV,{})]})}}),("one-time"===t||"semi-monthly"===t||"monthly"===t)&&(0,s.jsx)(ek,{control:h.control,name:"date_of_transaction",render:e=>{let{field:t}=e;return(0,s.jsxs)(eR,{className:"flex flex-col",children:[(0,s.jsx)(eD,{children:"Date of Transaction"}),(0,s.jsx)(ez,{children:"Select the date when the transaction will happen."}),(0,s.jsxs)(eB,{open:"date_of_transaction"===m,onOpenChange:()=>g("date_of_transaction"),children:[(0,s.jsx)(eK,{asChild:!0,children:(0,s.jsx)(eO,{children:(0,s.jsxs)(F.z,{type:"button",variant:"outline",className:(0,d.cn)("justify-start text-left font-normal",!t.value&&"text-muted-foreground"),children:[(0,s.jsx)(e5.Z,{className:"h-4 w-4 opacity-50"}),t.value?(0,ey.WU)(t.value,"PPP"):(0,s.jsx)("span",{children:"Pick a date"})]})})}),(0,s.jsx)(e$,{className:"w-auto p-0 z-50",children:(0,s.jsx)(eL,{mode:"single",selected:t.value,onSelect:e=>{t.onChange(e),g("date_of_transaction")}})})]}),(0,s.jsx)(eV,{})]})}}),"semi-monthly"===t&&(0,s.jsx)(ek,{control:h.control,name:"date_of_second_transaction",render:e=>{let{field:t}=e;return(0,s.jsxs)(eR,{className:"flex flex-col",children:[(0,s.jsx)(eD,{children:"Date of Second Transaction"}),(0,s.jsx)(ez,{children:"Select the date when the second semi monthly transaction will happen."}),(0,s.jsxs)(eB,{open:"date_of_second_transaction"===m,onOpenChange:()=>g("date_of_second_transaction"),children:[(0,s.jsx)(eK,{asChild:!0,children:(0,s.jsxs)(F.z,{type:"button",variant:"outline",className:(0,d.cn)("justify-start text-left font-normal",!t.value&&"text-muted-foreground"),children:[(0,s.jsx)(e5.Z,{className:"h-4 w-4 opacity-50"}),t.value?(0,ey.WU)(t.value,"PPP"):(0,s.jsx)("span",{children:"Pick a date"})]})}),(0,s.jsx)(e$,{className:"w-auto p-0 z-50",children:(0,s.jsx)(eL,{mode:"single",selected:t.value,onSelect:e=>{t.onChange(e),g("date_of_second_transaction")}})})]}),(0,s.jsx)(eV,{})]})}}),"one-time"!==t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ek,{control:h.control,name:"start_date",render:e=>{let{field:t}=e;return(0,s.jsxs)(eR,{className:"flex flex-col",children:[(0,s.jsx)(eD,{children:"Start Date"}),(0,s.jsx)(ez,{children:"Select the date when the transaction will begin. This is the starting point for the recurring transaction."}),(0,s.jsxs)(eB,{open:"start_date"===m,onOpenChange:()=>g("start_date"),children:[(0,s.jsx)(eK,{asChild:!0,children:(0,s.jsx)(eO,{children:(0,s.jsxs)(F.z,{type:"button",variant:"outline",className:(0,d.cn)("justify-start text-left font-normal",!t.value&&"text-muted-foreground"),children:[(0,s.jsx)(e5.Z,{className:"-mt-1 h-4 w-4 opacity-50"}),t.value?(0,ey.WU)(t.value,"PPP"):(0,s.jsx)("span",{children:"Pick a date"})]})})}),(0,s.jsx)(e$,{className:"w-auto p-0 z-50",children:(0,s.jsx)(eL,{mode:"single",selected:t.value,onSelect:e=>{t.onChange(e),g("start_date")}})})]}),(0,s.jsx)(eV,{})]})}}),(0,s.jsx)(ek,{control:h.control,name:"skip_end_date",render:e=>{let{field:t}=e;return(0,s.jsxs)(eR,{className:"flex items-center",children:[(0,s.jsx)(e2.r,{className:"mt-1",checked:t.value,onCheckedChange:e=>{t.onChange(e),u(e)}}),(0,s.jsx)(eD,{className:"ml-2",children:"Skip End Date"}),(0,s.jsx)(ez,{className:"ml-2",children:"Transaction will occur indefinitely."}),(0,s.jsx)(eV,{})]})}}),!c&&(0,s.jsx)(ek,{control:h.control,name:"end_date",render:e=>{let{field:t}=e;return(0,s.jsxs)(eR,{className:"flex flex-col",children:[(0,s.jsx)(eD,{children:"End Date (Optional)"}),(0,s.jsx)(ez,{children:"Select the date when the transaction will cease. This is the end point of the recurring transaction."}),(0,s.jsxs)(eB,{open:"end_date"===m,onOpenChange:()=>g("end_date"),children:[(0,s.jsx)(eK,{asChild:!0,children:(0,s.jsx)(eO,{children:(0,s.jsxs)(F.z,{type:"button",variant:"outline",className:(0,d.cn)("justify-start text-left font-normal",!t.value&&"text-muted-foreground"),children:[(0,s.jsx)(e5.Z,{className:"-mt-1 h-4 w-4 opacity-50"}),t.value?(0,ey.WU)(t.value,"PPP"):(0,s.jsx)("span",{children:"Pick a date"})]})})}),(0,s.jsx)(e$,{className:"w-auto p-0 z-50",children:(0,s.jsx)(eL,{mode:"single",selected:t.value,onSelect:e=>{t.onChange(e),g("end_date")}})})]}),(0,s.jsx)(eV,{})]})}})]})]})]}),(0,s.jsx)("div",{className:"p-4 flex justify-end",children:(0,s.jsx)(F.z,{type:"submit",className:"px-2 py-1",children:"Submit"})})]})})}function e7(){return function(e){let[t,a]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{let s=window.matchMedia(e);s.matches!==t&&a(s.matches);let n=()=>a(s.matches);return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[t,e]),t}("(max-width: 768px)")}var e9=a(23);let te=n.forwardRef((e,t)=>{let{className:a,children:n,...r}=e;return(0,s.jsxs)(e9.fC,{ref:t,className:(0,d.cn)("relative overflow-hidden",a),...r,children:[(0,s.jsx)(e9.l_,{className:"h-full w-full rounded-[inherit]",children:n}),(0,s.jsx)(tt,{}),(0,s.jsx)(e9.Ns,{})]})});te.displayName=e9.fC.displayName;let tt=n.forwardRef((e,t)=>{let{className:a,orientation:n="vertical",...r}=e;return(0,s.jsx)(e9.gb,{ref:t,orientation:n,className:(0,d.cn)("flex touch-none select-none transition-colors","vertical"===n&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===n&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a),...r,children:(0,s.jsx)(e9.q4,{className:"relative flex-1 rounded-full bg-border"})})});function ta(e){var t,a;let r;let l=e7();return(r=e.initialValues?"Edit Transaction":"Create Transaction",n.useEffect(()=>{var e;let t=()=>{var e,t;let a=null!==(t=null===(e=window.visualViewport)||void 0===e?void 0:e.height)&&void 0!==t?t:window.innerHeight,s=window.innerHeight-a,n=document.querySelector(".drawer-content");n&&(s>0||(n.style.height="80vh"))};return null===(e=window.visualViewport)||void 0===e||e.addEventListener("resize",t),()=>{var e;return null===(e=window.visualViewport)||void 0===e?void 0:e.removeEventListener("resize",t)}},[]),l)?(0,s.jsx)(ed,{open:e.openTransactionForm,onOpenChange:e.setOpenTransactionForm,children:(0,s.jsxs)(em,{onPointerDownOutside:e=>e.preventDefault(),onEscapeKeyDown:e=>e.preventDefault(),children:[(0,s.jsx)(ex,{children:(0,s.jsx)(ep,{children:r})}),(0,s.jsx)(te,{className:"h-[70vh] p-4",children:(0,s.jsx)(e6,{TransactionType:e.TransactionType,setOpenTransactionForm:e.setOpenTransactionForm,initialValues:null!==(t=e.initialValues)&&void 0!==t?t:null,transactions:e.transactions,setTransactions:e.setTransactions,isMobile:l})})]})}):(0,s.jsx)(et,{open:e.openTransactionForm,onOpenChange:e.setOpenTransactionForm,children:(0,s.jsxs)(en,{className:"sm:max-w-[425px] md:max-w-[700px] lg:max-w-[900px]",onPointerDownOutside:e=>e.preventDefault(),onEscapeKeyDown:e=>e.preventDefault(),children:[(0,s.jsx)(er,{children:(0,s.jsx)(ei,{children:r})}),(0,s.jsx)(e6,{TransactionType:e.TransactionType,setOpenTransactionForm:e.setOpenTransactionForm,initialValues:null!==(a=e.initialValues)&&void 0!==a?a:null,transactions:e.transactions,setTransactions:e.setTransactions,isMobile:l})]})})}tt.displayName=e9.gb.displayName;var ts=a(6669);let tn=ts.fC;ts.xz;let tr=ts.h_,tl=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(ts.aV,{className:(0,d.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...n,ref:t})});tl.displayName=ts.aV.displayName;let ti=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsxs)(tr,{children:[(0,s.jsx)(tl,{}),(0,s.jsx)(ts.VY,{ref:t,className:(0,d.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...n})]})});ti.displayName=ts.VY.displayName;let to=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,d.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...a})};to.displayName="AlertDialogHeader";let td=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,d.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};td.displayName="AlertDialogFooter";let tc=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(ts.Dx,{ref:t,className:(0,d.cn)("text-lg font-semibold",a),...n})});tc.displayName=ts.Dx.displayName;let tu=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(ts.dk,{ref:t,className:(0,d.cn)("text-sm text-muted-foreground",a),...n})});tu.displayName=ts.dk.displayName;let tm=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(ts.aU,{ref:t,className:(0,d.cn)((0,F.d)(),a),...n})});tm.displayName=ts.aU.displayName;let tx=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(ts.$j,{ref:t,className:(0,d.cn)((0,F.d)({variant:"outline"}),"mt-2 sm:mt-0",a),...n})});function tf(e){return(0,s.jsx)(tn,{open:e.showDeleteAlert,children:(0,s.jsxs)(ti,{className:"max-w-sm mx-auto sm:mx-auto p-4 rounded-lg shadow-lg",children:[(0,s.jsxs)(to,{children:[(0,s.jsx)(tc,{children:"Are you absolutely sure?"}),(0,s.jsx)(tu,{children:"This action cannot be undone. This will permanently delete your transaction and remove your data from our servers."})]}),(0,s.jsxs)(td,{children:[(0,s.jsx)(tx,{onClick:()=>{e.setShowDeleteAlert(!1)},children:"Cancel"}),(0,s.jsx)(tm,{onClick:()=>{e.delete_transaction(),e.setShowDeleteAlert(!1)},children:"Delete"})]})]})})}tx.displayName=ts.$j.displayName;let tp=n.memo(function(e){var t,a,r;let[l,i]=n.useState(!1),[o,d]=n.useState([]),[c,u]=n.useState([]),[m,x]=n.useState(!1),[f,p]=n.useState(null),{toast:h}=(0,O.pm)(),[g,j]=n.useState({}),[y,v]=n.useState({}),[N,b]=n.useState(null),w=(0,V.b7)({data:e.transactions,columns:Q,onSortingChange:d,onColumnFiltersChange:u,getCoreRowModel:(0,M.sC)(),getPaginationRowModel:(0,M.G_)(),getSortedRowModel:(0,M.tj)(),getFilteredRowModel:(0,M.vL)(),onColumnVisibilityChange:j,onRowSelectionChange:v,state:{sorting:o,columnFilters:c,columnVisibility:g,rowSelection:y},initialState:{pagination:{pageSize:8}},handleEditTransaction:e=>{i(!0),b(e.original)},handleDeleteTransaction:e=>{x(!0),p(e)}});return n.useEffect(()=>{e.isMobile&&w.getAllColumns().filter(e=>e.getCanHide()).map(e=>{"type"===e.id&&e.toggleVisibility(!1)})},[]),(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsx)(tf,{showDeleteAlert:m,setShowDeleteAlert:x,delete_transaction:()=>{try{f&&eX.delete_transaction(f.original.id).then(()=>{e.setTransactions(e.transactions.filter(e=>e.id!==f.original.id))}),h({title:"Success",description:"Transaction deleted successfully.",variant:"success"})}catch(e){h({title:"Error",description:"Transaction deletion failed. "+e,variant:"destructive"})}}}),(0,s.jsxs)("div",{className:"flex items-center pb-4",children:[e.isMain&&(0,s.jsx)(E.I,{placeholder:"Filter transactions...",value:null!==(r=null===(t=w.getColumn("name"))||void 0===t?void 0:t.getFilterValue())&&void 0!==r?r:"",onChange:e=>{var t;return null===(t=w.getColumn("name"))||void 0===t?void 0:t.setFilterValue(e.target.value)},className:"max-w-sm mr-2"}),(0,s.jsx)(H,{delayDuration:300,children:(0,s.jsxs)(L,{children:[(0,s.jsx)(W,{asChild:!0,children:(0,s.jsxs)(F.z,{className:"ml-auto",variant:"default",onClick:()=>{b(null),i(!l)},children:["Add Transaction",(0,s.jsx)(I.Z,{})]})}),(0,s.jsx)(B,{children:(0,s.jsx)("p",{children:"Create Transaction"})})]})}),(0,s.jsx)(ta,{TransactionType:e.type,openTransactionForm:l,setOpenTransactionForm:i,transactions:e.transactions,setTransactions:e.setTransactions,initialValues:N})]}),(0,s.jsx)("div",{className:"rounded-md border",children:(0,s.jsxs)(Z,{children:[(0,s.jsx)(A,{children:w.getHeaderGroups().map(e=>(0,s.jsx)(Y,{children:e.headers.map(e=>(0,s.jsx)(q,{children:e.isPlaceholder?null:(0,V.ie)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,s.jsx)(P,{children:(null===(a=w.getRowModel().rows)||void 0===a?void 0:a.length)?w.getRowModel().rows.map(e=>(0,s.jsx)(Y,{"data-state":e.getIsSelected()&&"selected",children:e.getVisibleCells().map(e=>(0,s.jsx)(U,{children:(0,V.ie)(e.column.columnDef.cell,e.getContext())},e.id))},e.id)):(0,s.jsx)(Y,{children:(0,s.jsx)(U,{colSpan:Q.length,className:"h-24 text-center",children:"No results."})})})]})}),e.isMain&&(0,s.jsx)("div",{className:"flex items-center justify-end space-x-2 py-4",children:(0,s.jsxs)("div",{className:"space-x-2",children:[(0,s.jsx)(F.z,{variant:"outline",size:"sm",onClick:()=>w.previousPage(),disabled:!w.getCanPreviousPage(),children:"Previous"}),(0,s.jsx)(F.z,{variant:"outline",size:"sm",onClick:()=>w.nextPage(),disabled:!w.getCanNextPage(),children:"Next"})]})})]})});var th=a(8185),tg=a(2005);let tj=tg.v2;tg.ZA,tg.h_,tg.Tr,tg.Ee;let ty=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(tg.fC,{ref:t,className:(0,d.cn)("flex h-10 items-center space-x-1 rounded-md border bg-background p-1",a),...n})});ty.displayName=tg.fC.displayName;let tv=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(tg.xz,{ref:t,className:(0,d.cn)("flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",a),...n})});tv.displayName=tg.xz.displayName,n.forwardRef((e,t)=>{let{className:a,inset:n,children:r,...l}=e;return(0,s.jsxs)(tg.fF,{ref:t,className:(0,d.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",n&&"pl-8",a),...l,children:[r,(0,s.jsx)(j.Z,{className:"ml-auto h-4 w-4"})]})}).displayName=tg.fF.displayName,n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(tg.tu,{ref:t,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...n})}).displayName=tg.tu.displayName,n.forwardRef((e,t)=>{let{className:a,align:n="start",alignOffset:r=-4,sideOffset:l=8,...i}=e;return(0,s.jsx)(tg.h_,{children:(0,s.jsx)(tg.VY,{ref:t,align:n,alignOffset:r,sideOffset:l,className:(0,d.cn)("z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...i})})}).displayName=tg.VY.displayName,n.forwardRef((e,t)=>{let{className:a,inset:n,...r}=e;return(0,s.jsx)(tg.ck,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n&&"pl-8",a),...r})}).displayName=tg.ck.displayName,n.forwardRef((e,t)=>{let{className:a,children:n,checked:r,...l}=e;return(0,s.jsxs)(tg.oC,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:r,...l,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(tg.wU,{children:(0,s.jsx)(y.Z,{className:"h-4 w-4"})})}),n]})}).displayName=tg.oC.displayName,n.forwardRef((e,t)=>{let{className:a,children:n,...r}=e;return(0,s.jsxs)(tg.Rk,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...r,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(tg.wU,{children:(0,s.jsx)(v.Z,{className:"h-2 w-2 fill-current"})})}),n]})}).displayName=tg.Rk.displayName,n.forwardRef((e,t)=>{let{className:a,inset:n,...r}=e;return(0,s.jsx)(tg.__,{ref:t,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",n&&"pl-8",a),...r})}).displayName=tg.__.displayName,n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(tg.Z0,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",a),...n})}).displayName=tg.Z0.displayName;let tN=e=>{let t=Object.keys(e.data)[0],a=e.data[t];function n(e){let[t,a,s]=e.split("-"),n=["January","February","March","April","May","June","July","August","September","October","November","December"][parseInt(t)-1];return"".concat(n," ").concat(a,", ").concat(s)}return e7()?(0,s.jsx)(ed,{open:e.isDialogOpen,onOpenChange:e.setIsDialogOpen,children:(0,s.jsxs)(em,{children:[(0,s.jsx)(ex,{children:(0,s.jsx)(ep,{children:n(t)})}),(0,s.jsx)(te,{className:"h-[70vh] px-4",children:(0,s.jsx)(tb,{data:a})})]})}):(0,s.jsx)(et,{open:e.isDialogOpen,onOpenChange:e.setIsDialogOpen,children:(0,s.jsxs)(en,{className:"sm:max-w-[225px] md:max-w-[300px] lg:max-w-[500px]",children:[(0,s.jsx)(er,{children:(0,s.jsx)(ei,{children:n(t)})}),(0,s.jsx)(te,{className:"h-[70vh]",children:(0,s.jsx)(tb,{data:a})})]})})};function tb(e){let t=e.data;return(0,s.jsx)("div",{className:"p-6 sm:p-10",children:(0,s.jsxs)("div",{className:"after:absolute after:inset-y-0 after:w-px after:bg-gray-500/20 relative pl-6 after:left-0 grid gap-10 dark:after:bg-gray-400/20",children:[(0,s.jsxs)("div",{className:"grid gap-1 text-sm relative",children:[(0,s.jsx)("div",{className:"aspect-square w-3 bg-gray-900 rounded-full absolute left-0 translate-x-[-29.5px] z-10 top-1 dark:bg-gray-50"}),(0,s.jsx)("div",{className:"text-lg font-bold",children:"Opening Balance"}),(0,s.jsxs)("div",{className:"text-gray-500 dark:text-gray-400",children:["$",t.opening_balance]})]},"opening"),t&&t.income_transactions.length>0&&(0,s.jsxs)("div",{className:"grid gap-1 text-sm relative",children:[(0,s.jsx)("div",{className:"aspect-square w-3 bg-blue-500 rounded-full absolute left-0 translate-x-[-29.5px] z-10 top-1 dark:bg-blue-500"}),(0,s.jsx)("div",{className:"text-lg font-bold text-blue-500",children:"Income:"}),t.income_transactions.map(e=>(0,s.jsxs)("div",{className:"text-gray-500 dark:text-gray-400",children:[e.name,": $",e.amount]},e.id))]},"income"),t.paid_transactions.length>0&&(0,s.jsxs)("div",{className:"grid gap-1 text-sm relative",children:[(0,s.jsx)("div",{className:"aspect-square w-3 bg-green-500 rounded-full absolute left-0 translate-x-[-29.5px] z-10 top-1 dark:bg-green-500"}),(0,s.jsx)("div",{className:"text-lg font-bold text-green-500",children:"Paid:"}),t.paid_transactions.map(e=>(0,s.jsxs)("div",{className:"text-gray-500 dark:text-gray-400",children:[e.name,": $",e.amount]},e.id))]},"paid"),t.unpaid_transactions.length>0&&(0,s.jsxs)("div",{className:"grid gap-1 text-sm relative",children:[(0,s.jsx)("div",{className:"aspect-square w-3 bg-red-500 rounded-full absolute left-0 translate-x-[-29.5px] z-10 top-1 dark:bg-red-500"}),(0,s.jsx)("div",{className:"text-lg font-bold text-red-500",children:"Unpaid:"}),t.unpaid_transactions.map(e=>(0,s.jsxs)("div",{className:"text-gray-500 dark:text-gray-400",children:[e.name,": $",e.amount]},e.id))]},"unpaid"),(0,s.jsxs)("div",{className:"grid gap-1 text-sm relative",children:[(0,s.jsx)("div",{className:"aspect-square w-3 bg-gray-900 rounded-full absolute left-0 translate-x-[-29.5px] z-10 top-1 dark:bg-gray-50"}),(0,s.jsx)("div",{className:"text-lg font-bold",children:"Closing Balance"}),(0,s.jsxs)("div",{className:"text-gray-500 dark:text-gray-400",children:["$",t.closing_balance]})]},"closing")]})})}let tw=e=>{let t=(0,n.useRef)(null),a=(0,n.useRef)(null),[r,l]=(0,n.useState)(null),[i,o]=(0,n.useState)(!1),d=e7(),c=e.data,u=e=>{let[t,a,s]=e.split("-").map(Number),n=new Date(s,t-1,a),r=new Date;return n<new Date(r.getFullYear(),r.getMonth(),r.getDate())},m=e=>{let[t,a,s]=e.split("-").map(Number),n=new Date(s,t-1,a),r=new Date;return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()&&n.getDate()===r.getDate()};(0,n.useEffect)(()=>{let e=setTimeout(()=>{if(t.current&&a.current){let e=a.current.querySelector("[data-radix-scroll-area-viewport]");if(e){let a=e.offsetHeight/4.5,s=t.current.offsetTop-a;e.scrollTo({top:s,behavior:"smooth"})}}},500);return()=>clearTimeout(e)},[]);let x=Object.entries(c).reduce((e,t)=>{let[a,s]=t,[n,,r]=a.split("-"),l="".concat(n,"-").concat(r);return e[l]||(e[l]=[]),e[l].push({date:a,info:s}),e},{}),f=e=>{let t=e.split("-"),a=parseInt(t[0],10),s=parseInt(t[1],10);return new Date(parseInt(t[2],10),a-1,s)},p=(e,a)=>{let[n,r]=e.split("-"),i=(e,t)=>{let a={};a[e]=t,l(a),o(!0)},c=[],x=new Date(parseInt(r),parseInt(n)-1,f(a,!1)).getDay();for(let e=0;e<x;e++)c.push((0,s.jsx)("div",{className:"h-24"},"empty-".concat(e)));function f(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.map(e=>{let[,t]=e.date.split("-");return parseInt(t,10)});return t?Math.max(...a):Math.min(...a)}for(let e=f(a,!1);e<=f(a,!0);e++){var p;let l="".concat(n.padStart(2,"0"),"-").concat(e.toString().padStart(2,"0"),"-").concat(r),o=(null===(p=a.find(e=>e.date===l))||void 0===p?void 0:p.info)||{},x=u(l),f=m(l),h=o.paid_transactions&&o.paid_transactions.length>0,g=o.unpaid_transactions&&o.unpaid_transactions.length>0,j=o.income_transactions&&o.income_transactions.length>0,y=Math.min(10,o.paid_transactions.length>1?o.paid_transactions.length+1:2),v=Math.min(10,o.unpaid_transactions.length>1?o.unpaid_transactions.length+1:2),N=Math.min(10,o.income_transactions.length>1?o.income_transactions.length+1:2);c.push((0,s.jsxs)(th.Zb,{className:"w-full h-auto border-0 border-b-2 rounded-none bg-transparent flex flex-col relative cursor-pointer ".concat(x?"opacity-50":""),ref:f?t:null,onClick:()=>i(l,o),children:[(0,s.jsx)(th.Ol,{className:"p-2 flex flex-row justify-between items-center",children:(0,s.jsx)(th.ll,{className:"text-base",children:(0,s.jsx)("div",{className:f?"w-7 h-7 rounded-full bg-amber-600 flex items-center justify-center text-white opacity-90":"",children:(0,s.jsx)("span",{children:e})})})}),(0,s.jsx)(th.aY,{className:"p-2 text-xs flex-grow",children:(0,s.jsxs)("h4",{children:[d?"":"Balance:"," $",o.closing_balance||0]})}),(0,s.jsxs)(th.eW,{className:"p-2 mt-auto",children:[j&&(0,s.jsx)("div",{className:"w-".concat(N," ml-1 h-2 rounded-full bg-blue-500")}),h&&(0,s.jsx)("div",{className:"w-".concat(y," ml-1 h-2 rounded-full bg-green-500")}),g&&(0,s.jsx)("div",{className:"w-".concat(v," ml-1 h-2 rounded-full bg-red-500")})]})]},l))}return c};return(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)(ty,{className:"sticky top-0 z-10 flex justify-between",children:[!d&&["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,s.jsx)(tj,{children:(0,s.jsx)(tv,{className:"w-full justify-center cursor-default",children:e})},e)),d&&["S","M","T","W","T","F","S"].map(e=>(0,s.jsx)(tj,{children:(0,s.jsx)(tv,{className:"w-full justify-center cursor-default",children:e})},e+Math.random()))]}),(0,s.jsxs)(te,{className:"h-[calc(100vh-60px)] w-full",ref:a,children:[Object.entries(x).map(e=>{let[t,a]=e;return(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mt-4 mb-4",children:new Date(f(a[0].date)).toLocaleString("default",{month:"long",year:"numeric"})}),(0,s.jsx)("div",{className:"grid grid-cols-7 gap-1",children:p(t,a)})]},t)}),r&&(0,s.jsx)(tN,{isDialogOpen:i,setIsDialogOpen:()=>o(!1),data:r})]})]})};function t_(e){return(0,s.jsxs)("div",{className:"flex h-screen",children:[(0,s.jsx)("div",{className:"w-3/5 pt-4",children:(0,s.jsx)(tw,{data:e.calendarData})}),(0,s.jsx)("div",{className:"w-2/5 pt-4 pl-4",children:(0,s.jsx)(tp,{type:"",isMain:!0,transactions:e.transactions,setTransactions:e.setTransactions,isMobile:e.isMobile})})]})}var tT=a(6648);let tk=e=>{let{steps:t,currentStep:a}=e;return(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("div",{className:"flex items-center justify-between mb-4",children:t.map((e,t)=>(0,s.jsxs)("div",{className:"flex-1 text-center",children:[(0,s.jsx)("h3",{className:"mt-2 text-sm ".concat(t===a?"font-bold":"text-gray-500"," ").concat(t<a?"text-green-500":""," "),children:e.title}),(0,s.jsx)("p",{className:"text-xs ".concat(t===a?"font-semibold":"text-gray-400"),children:e.description})]},t))}),(0,s.jsx)("div",{className:"relative w-full h-1 bg-zinc-700",children:(0,s.jsx)("div",{className:"absolute top-0 left-0 h-full bg-green-500",style:{width:"".concat((a+1)/t.length*100,"%")}})})]})};var tC=a(5022);function tS(e){let t=e.isMobile,[a,r]=(0,n.useState)(-1),[l,o]=(0,n.useState)({name:"",message:""}),[d,c]=(0,n.useState)(e.transactions.filter(e=>"income"===e.type)),[u,m]=(0,n.useState)(e.transactions.filter(e=>"expense"===e.type)),[x,f]=(0,n.useState)(!1),p=[{title:"Step 1",description:"Add Your Income"},{title:"Step 2",description:"Add Your Expenses"},{title:"Step 3",description:"All Set!"}],h=t=>{t&&e.setOpen(!0)},g=async()=>{f(!0);try{var t;let a=await eX.mark_onboarding_completed(null!==(t=localStorage.getItem("username"))&&void 0!==t?t:"",{onboardingCompleted:"true"});200===a.status&&(f(!1),localStorage.setItem("onboardingCompleted","true"),e.setOpen(!1))}catch(e){console.error("Error updating onboarding status:",e)}finally{f(!1)}},y=()=>{if(2===a&&(e.setTransactions([...d,...u]),g()),a+1<=p.length+1){if(0===a&&0===d.length){o({name:"No Transactions",message:"Please add atleast one income transaction to proceed."});return}if(1===a&&0===u.length){o({name:"No Transactions",message:"Please add atleast one expense transaction to proceed."});return}r(a+1)}};return(n.useEffect(()=>{0===a&&d.length>0&&o({name:"",message:""}),1===a&&u.length>0&&o({name:"",message:""})},[a,d.length,u.length]),t)?(0,s.jsxs)(ed,{open:e.open,onOpenChange:h,children:[x&&(0,s.jsx)(i.k,{}),!x&&(0,s.jsxs)(em,{onPointerDownOutside:e=>e.preventDefault(),onEscapeKeyDown:e=>e.preventDefault(),"data-vaul-no-drag":!0,children:[(0,s.jsx)(ex,{className:-1===a?"invisible":"",children:(0,s.jsxs)(ep,{className:"mt-10 scroll-m-20 border-b pb-2 text-2xl font-semibold tracking-tight transition-colors first:mt-0",children:[a>-1&&a<3&&(0,s.jsx)(tk,{steps:p,currentStep:a}),3===a&&"All Set! You're Ready to Go!"]})}),(0,s.jsx)(te,{className:"h-[60vh]",children:(()=>{switch(a){case -1:return(0,s.jsx)(tR,{});case 0:return(0,s.jsx)(tD,{isMobile:t,income:d,setIncome:c,error:l});case 1:return(0,s.jsx)(tO,{isMobile:t,expense:u,setExpense:m,error:l});case 2:return(0,s.jsx)(tz,{})}})()}),(0,s.jsx)(ef,{children:(0,s.jsxs)(F.z,{onClick:y,children:[(()=>{switch(a){case -1:return"Get Started";case 0:case 1:return"Next";default:return"Finish"}})(),(0,s.jsx)(j.Z,{className:"mr-2 h-4 w-4"})]})})]})]}):(0,s.jsxs)(et,{open:e.open,onOpenChange:h,children:[x&&(0,s.jsx)(i.k,{}),!x&&(0,s.jsxs)(en,{className:"sm:max-w-[425px] md:max-w-[700px] lg:max-w-[900px] p-8 [&>button]:hidden",onPointerDownOutside:e=>e.preventDefault(),onEscapeKeyDown:e=>e.preventDefault(),children:[(0,s.jsx)(er,{className:-1===a?"invisible":"",children:(0,s.jsxs)(ei,{className:"mt-10 scroll-m-20 border-b pb-2 text-3xl font-semibold tracking-tight transition-colors first:mt-0",children:[a>-1&&a<3&&(0,s.jsx)(tk,{steps:p,currentStep:a}),3===a&&"All Set! You're Ready to Go!"]})}),(()=>{switch(a){case -1:return(0,s.jsx)(tR,{});case 0:return(0,s.jsx)(tD,{isMobile:t,income:d,setIncome:c,error:l});case 1:return(0,s.jsx)(tO,{isMobile:t,expense:u,setExpense:m,error:l});case 2:return(0,s.jsx)(tz,{})}})(),(0,s.jsx)(el,{children:(0,s.jsxs)(F.z,{onClick:y,children:[(()=>{switch(a){case -1:return"Get Started";case 0:case 1:return"Next";default:return"Finish"}})(),(0,s.jsx)(j.Z,{className:"mr-2 h-4 w-4"})]})})]})]})}function tR(){return(0,s.jsx)("section",{id:"hero",children:(0,s.jsx)("div",{className:"container mx-auto px-4 py-8 md:py-8 lg:py-8",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-center",children:[(0,s.jsx)("div",{className:"space-y-2",children:(0,s.jsxs)("div",{className:"text-center space-y-2 mx-auto lg:text-left lg:mx-0",children:[(0,s.jsx)("h1",{className:"text-[42px] font-medium mb-2 text-balance max-w-3xl mx-auto tracking-tighter lg:mx-0",children:"Ready to take control of your finances?"}),(0,s.jsx)("p",{className:"text-muted-foreground max-w-[600px] mx-auto lg:mx-0",children:"MyTwoney helps you track your cash flow, predict potential overdrafts, and plan aheadall in a simple calendar view."})]})}),(0,s.jsx)(tC.nI,{src:"https://lottie.host/2d606796-8107-4339-8c35-ed46f9124cdb/ap64HaeTjg.lottie",loop:!0,autoplay:!0,className:"filter grayscale-[95%]"})]})})})}function tD(e){let{isMobile:t,income:a,setIncome:n,error:r}=e;return(0,s.jsxs)("div",{className:"pt-0 grid grid-cols-1 lg:grid-cols-2 gap-8 px-4 lg:px-0",children:[(0,s.jsx)("div",{className:"space-y-2",children:(0,s.jsxs)("div",{className:"text-center space-y-2 mx-auto lg:text-left lg:mx-0",children:[(0,s.jsx)("h1",{className:"text-[42px] font-medium mb-2 text-balance max-w-3xl mx-auto tracking-tighter lg:mx-0",children:"Let's Add Your Income"}),(0,s.jsx)("p",{className:"text-muted-foreground max-w-[600px] mx-auto lg:mx-0",children:"Start by adding your income sources, such as your bi-weekly paycheque or freelance earnings."})]})}),(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsx)(tp,{type:"income",isMain:!1,isMobile:t||!0,transactions:a,setTransactions:n}),(0,s.jsx)("p",{className:"text-red-500 text-sm",children:r&&r.message})]})]})}function tO(e){let{isMobile:t,expense:a,setExpense:n,error:r}=e;return(0,s.jsxs)("div",{className:"pt-0 grid grid-cols-1 lg:grid-cols-2 gap-8 px-4 lg:px-0",children:[(0,s.jsx)("div",{className:"space-y-2",children:(0,s.jsxs)("div",{className:"text-center space-y-2 mx-auto lg:text-left lg:mx-0",children:[(0,s.jsx)("h1",{className:"text-[42px] font-medium mb-2 text-balance max-w-3xl mx-auto tracking-tighter lg:mx-0",children:"Time to Track Your Expenses"}),(0,s.jsx)("p",{className:"text-muted-foreground max-w-[600px] mx-auto lg:mx-0",children:"Add recurring payments like rent, bills, or subscriptions. Don't forget variable expenses like groceries or entertainment."}),(0,s.jsx)("br",{}),(0,s.jsx)("p",{className:"text-muted-foreground text-sm max-w-[600px] mx-auto lg:mx-0",children:"Tip: Use accurate dates to get the most from your calendar view."})]})}),(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsx)(tp,{type:"income",isMain:!1,isMobile:t||!0,transactions:a,setTransactions:n}),(0,s.jsx)("p",{className:"text-red-500 text-sm",children:r&&r.message})]})]})}function tz(){return(0,s.jsxs)("div",{className:"pt-0 grid grid-cols-1 lg:grid-cols-2 gap-8 px-4 lg:px-0 lg:mb-6",children:[(0,s.jsx)("div",{className:"space-y-2",children:(0,s.jsxs)("div",{className:"text-center space-y-2 mx-auto lg:text-left lg:mx-0",children:[(0,s.jsx)("h1",{className:"text-[42px] font-medium mb-4 text-balance max-w-3xl mx-auto tracking-tighter lg:mx-0",children:"Your Calendar at a Glance"}),(0,s.jsx)("div",{className:"flex items-center justify-center lg:justify-start",children:(0,s.jsxs)("ul",{className:"text-muted-foreground max-w-[600px] mx-auto lg:mx-0",children:[(0,s.jsxs)("li",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-blue-500 mr-2"}),(0,s.jsx)("span",{className:"font-bold mr-2",children:"Blue dots:"}),"Income days"]}),(0,s.jsxs)("li",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-green-500 mr-2"}),(0,s.jsx)("span",{className:"font-bold mr-2",children:"Green dots:"}),"Expense you can cover"]}),(0,s.jsxs)("li",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-red-500 mr-2"}),(0,s.jsx)("span",{className:"font-bold mr-2",children:"Red dots:"}),"Potential overdrafts"]})]})})]})}),(0,s.jsx)(tT.default,{alt:"dashboard screenshot",className:"aspect-video rounded-lg",height:"366",src:"/dashboard-dark.png",width:"550"})]})}let tV=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/login";return function(i){let[o,d]=(0,n.useState)(!1),[c,u]=(0,n.useState)(!0),m=(0,r.useRouter)();return((0,n.useEffect)(()=>{(async function(){try{await l.k.checkAuth()?d(!0):m.push(a)}finally{u(!1)}})()},[m]),c)?(0,s.jsx)(t,{}):o?(0,s.jsx)(e,{...i}):null}}(()=>{let{transactions:e,setTransactions:t,calendarData:a}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[t,a]=(0,n.useState)(e),[s,r]=(0,n.useState)({}),l=(0,n.useCallback)(async()=>{try{let e=localStorage.getItem("user_id"),t=await eX.get_calendar_data(e);r(t.data)}catch(e){console.error("Error fetching calendar data:",e)}},[]);return{transactions:t,setTransactions:(0,n.useCallback)(e=>{a(e),l()},[l]),calendarData:s}}([]),r=e7(),[l,o]=n.useState("tab1"),[d,f]=n.useState(!1),[p,h]=n.useState(!0),[g,j]=n.useState(!0);return((0,n.useEffect)(()=>{var e;async function a(){try{j(!0);let e=localStorage.getItem("user_id"),a=await eX.get_user_transactions(e);t(a.data)}catch(e){console.error("Error fetching transaction data:",e)}finally{j(!1)}}h((null!==(e=localStorage.getItem("onboardingCompleted"))&&void 0!==e?e:"false")!=="true"),d||(f(!0),a())},[t]),g)?(0,s.jsx)(i.k,{}):(0,s.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,s.jsx)(z,{isMobile:r}),(0,s.jsx)(tS,{isMobile:r,open:p,setOpen:h,transactions:e,setTransactions:t}),(0,s.jsxs)("main",{className:r?"p-2":"p-8",children:[(0,s.jsxs)("h1",{className:"text-3xl font-bold mb-4",children:["Hey ",function(e){return e?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():""}(localStorage.getItem("username")),"! \uD83D\uDCB8"]}),r?(0,s.jsxs)(c,{defaultValue:"tab1",value:l,onValueChange:o,children:[(0,s.jsxs)(u,{children:[(0,s.jsx)(m,{value:"tab1",children:"Overview"}),(0,s.jsx)(m,{value:"tab2",children:"Transactions"})]}),(0,s.jsx)(x,{value:"tab1",forceMount:!0,hidden:"tab1"!==l,children:(0,s.jsx)(tw,{data:a})}),(0,s.jsx)(x,{value:"tab2",forceMount:!0,hidden:"tab2"!==l,children:(0,s.jsx)(tp,{type:"",isMain:!0,isMobile:r,transactions:e,setTransactions:t})})]}):(0,s.jsx)(t_,{transactions:e,setTransactions:t,calendarData:a,isMobile:r})]})]})},i.k,"/login")},9436:(e,t,a)=>{"use strict";a.d(t,{k:()=>l});var s=a(7437),n=a(2183),r=a(8185);function l(){return(0,s.jsxs)("div",{className:"p-8 space-y-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)(n.O,{className:"h-10 w-1/4"}),(0,s.jsx)(n.O,{className:"h-10 w-20"})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[void 0,void 0,void 0].map((e,t)=>(0,s.jsxs)(r.Zb,{className:"p-6",children:[(0,s.jsx)(n.O,{className:"h-8 w-1/2 mb-4"}),(0,s.jsx)(n.O,{className:"h-24 w-full"})]},t))}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(n.O,{className:"h-8 w-1/4"}),(0,s.jsx)("div",{className:"space-y-2",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,s.jsx)(n.O,{className:"h-12 w-full"},t))})]})]})}},9733:(e,t,a)=>{"use strict";a.d(t,{d:()=>o,z:()=>d});var s=a(7437),n=a(2265),r=a(1538),l=a(2218),i=a(8771);let o=(0,l.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef((e,t)=>{let{className:a,variant:n,size:l,asChild:d=!1,...c}=e,u=d?r.g7:"button";return(0,s.jsx)(u,{className:(0,i.cn)(o({variant:n,size:l,className:a})),ref:t,...c})});d.displayName="Button"},8185:(e,t,a)=>{"use strict";a.d(t,{Ol:()=>i,SZ:()=>d,Zb:()=>l,aY:()=>c,eW:()=>u,ll:()=>o});var s=a(7437),n=a(2265),r=a(8771);let l=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...n})});l.displayName="Card";let i=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",a),...n})});i.displayName="CardHeader";let o=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",a),...n})});o.displayName="CardTitle";let d=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("text-sm text-muted-foreground",a),...n})});d.displayName="CardDescription";let c=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("p-6 pt-0",a),...n})});c.displayName="CardContent";let u=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("flex items-center p-6 pt-0",a),...n})});u.displayName="CardFooter"},7209:(e,t,a)=>{"use strict";a.d(t,{I:()=>l});var s=a(7437),n=a(2265),r=a(8771);let l=n.forwardRef((e,t)=>{let{className:a,type:n,...l}=e;return(0,s.jsx)("input",{type:n,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...l})});l.displayName="Input"},2183:(e,t,a)=>{"use strict";a.d(t,{O:()=>r});var s=a(7437),n=a(8771);function r(e){let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,n.cn)("animate-pulse rounded-md bg-muted",t),...a})}},343:(e,t,a)=>{"use strict";a.d(t,{r:()=>i});var s=a(7437),n=a(2265),r=a(9646),l=a(8771);let i=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(r.fC,{className:(0,l.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...n,ref:t,children:(0,s.jsx)(r.bU,{className:(0,l.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});i.displayName=r.fC.displayName},6763:(e,t,a)=>{"use strict";a.d(t,{pm:()=>m});var s=a(2265);let n=0,r=new Map,l=e=>{if(r.has(e))return;let t=setTimeout(()=>{r.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);r.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?l(a):e.toasts.forEach(e=>{l(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],d={toasts:[]};function c(e){d=i(d,e),o.forEach(e=>{e(d)})}function u(e){let{...t}=e,a=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:a});return c({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||s()}}}),{id:a,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function m(){let[e,t]=s.useState(d);return s.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}}},e=>{var t=t=>e(e.s=t);e.O(0,[522,240,699,486,231,365,159,173,374,317,873,771,130,215,744],()=>t(8977)),_N_E=e.O()}]);