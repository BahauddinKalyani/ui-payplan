(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[966],{6358:(e,t,s)=>{Promise.resolve().then(s.bind(s,8586))},8542:(e,t,s)=>{"use strict";s.d(t,{k:()=>n});var r=s(8472);let a="http://localhost:8000/api/v1";r.Z.defaults.withCredentials=!0;let n={checkAuth:async()=>{try{let e=await r.Z.get("".concat(a,"/check-auth"),{headers:{"Content-Type":"application/json"}});if(200===e.status)return!0;return!1}catch(e){return!1}},login:async e=>{try{let t=new FormData;for(let[s,r]of Object.entries(e))t.append(s,r);return await r.Z.post("".concat(a,"/login"),t,{headers:{"Content-Type":"multipart/form-data"}})}catch(e){var t;throw(null===(t=e.response)||void 0===t?void 0:t.data)||e.message}},signup:async e=>{try{return await r.Z.post("".concat(a,"/signup"),e,{headers:{"Content-Type":"application/json"}})}catch(e){var t;throw(null===(t=e.response)||void 0===t?void 0:t.data)||e.message}},confirm_signup:async e=>{try{return await r.Z.post("".concat(a,"/confirm-signup"),e,{headers:{"Content-Type":"application/json"}})}catch(e){var t;throw(null===(t=e.response)||void 0===t?void 0:t.data)||e.message}},logout:async()=>{try{return await r.Z.post("".concat(a,"/logout"),{headers:{"Content-Type":"application/json"}})}catch(t){var e;throw(null===(e=t.response)||void 0===e?void 0:e.data)||t.message}}}},8586:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>S});var r=s(7437),a=s(7138),n=s(2265),i=s(9733),l=s(7209),o=s(6463),c=s(3475),d=s(2660),u=s(6763),m=s(8542),p=s(9343),f=s(1014),x=s(9772),h=s(9324),g=s(2468),v=s(8771);let y=n.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(h.fC,{ref:t,className:(0,v.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...a,children:(0,r.jsx)(h.z$,{className:(0,v.cn)("flex items-center justify-center text-current"),children:(0,r.jsx)(g.Z,{className:"h-4 w-4"})})})});y.displayName=h.fC.displayName;let b=(0,s(2218).j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),j=n.forwardRef((e,t)=>{let{className:s,variant:a,...n}=e;return(0,r.jsx)("div",{ref:t,role:"alert",className:(0,v.cn)(b({variant:a}),s),...n})});j.displayName="Alert",n.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("h5",{ref:t,className:(0,v.cn)("mb-1 font-medium leading-none tracking-tight",s),...a})}).displayName="AlertTitle";let w=n.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,v.cn)("text-sm [&_p]:leading-relaxed",s),...a})});w.displayName="AlertDescription";var N=s(518);let _=x.Ry({username:x.Z_().min(1,"Username is required").refine(e=>!/\s/.test(e),"Username should not contain spaces"),email:x.Z_().email("Invalid email address"),password:x.Z_().min(8,"Password must be at least 8 characters long").regex(/[0-9]/,"Password must contain at least one number").regex(/[!@#$%^&*(),.?":{}|<>]/,"Password must contain at least one special character").regex(/[A-Z]/,"Password must contain at least one uppercase letter").regex(/[a-z]/,"Password must contain at least one lowercase letter"),privacy_policy:x.O7().refine(e=>!0===e,"You must agree to the Privacy Policy")}),S=(0,c.D)(function(){let[e,t]=(0,n.useState)(!1),[s,c]=(0,n.useState)(!1),{toast:x}=(0,u.pm)(),h=(0,o.useRouter)(),{register:g,handleSubmit:b,formState:{errors:S},watch:k,setValue:T}=(0,p.cI)({resolver:(0,f.F)(_),defaultValues:{username:"",email:"",password:"",privacy_policy:!1}}),C=k("password"),O=async e=>{try{t(!0);let s=await m.k.signup(e);200===s.status&&(localStorage.setItem("username",e.username),x({title:"Success",description:"You have successfully signed up.",variant:"success"}),h.push("/email-confirmation")),t(!1)}catch(e){x({title:"Error",description:"Signup failed. "+e.detail,variant:"destructive"}),t(!1)}};return(0,r.jsx)(r.Fragment,{children:e?(0,r.jsx)(d.q,{}):(0,r.jsxs)("div",{className:"container flex h-screen w-screen flex-col items-center justify-center",children:[(0,r.jsx)(a.default,{href:"/",className:(0,v.cn)((0,i.d)({variant:"ghost"}),"absolute left-4 top-4 md:left-8 md:top-8"),children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(N.Z,{className:"mr-2 h-4 w-4"}),"Back"]})}),(0,r.jsx)("div",{className:"flex flex-col min-h-screen items-center justify-center gap-6 mx-auto sm:w-[350px]",children:(0,r.jsxs)("div",{className:"w-full max-w-md space-y-8",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-2 text-center",children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold tracking-tight",children:"Welcome to MyTwoney"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Sign up for an account"})]}),(0,r.jsxs)("form",{className:"space-y-6",onSubmit:b(O),children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(l.I,{type:"text",id:"username",placeholder:"Enter your username",...g("username"),className:S.username?"border-red-500":""}),S.username&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:S.username.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(l.I,{type:"email",id:"email",placeholder:"Enter your email",...g("email"),className:S.email?"border-red-500":""}),S.email&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:S.email.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(l.I,{type:"password",id:"password",placeholder:"Create a password",...g("password"),className:S.password?"border-red-500":"",onFocus:()=>c(!0)}),s&&(0,r.jsx)(j,{className:"mt-2",children:(0,r.jsxs)(w,{children:["Password must:",(0,r.jsxs)("ul",{className:"list-disc pl-5 mt-2",children:[(0,r.jsx)("li",{className:(null==C?void 0:C.length)>=8?"text-green-500":"",children:"Be at least 8 characters long"}),(0,r.jsx)("li",{className:/[0-9]/.test(C||"")?"text-green-500":"",children:"Contain at least one number"}),(0,r.jsx)("li",{className:/[!@#$%^&*(),.?":{}|<>]/.test(C||"")?"text-green-500":"",children:"Contain at least one special character"}),(0,r.jsx)("li",{className:/[A-Z]/.test(C||"")?"text-green-500":"",children:"Contain at least one uppercase letter"}),(0,r.jsx)("li",{className:/[a-z]/.test(C||"")?"text-green-500":"",children:"Contain at least one lowercase letter"})]})]})}),S.password&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:S.password.message})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(y,{id:"privacy_policy",defaultChecked:!1,...g("privacy_policy"),onCheckedChange:e=>T("privacy_policy",e)}),(0,r.jsxs)("label",{htmlFor:"privacy_policy",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:["I agree to the ",(0,r.jsx)(a.default,{href:"/privacy-policy",className:"text-blue-500",children:"Terms and Conditions"})]})]}),S.privacy_policy&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:S.privacy_policy.message}),(0,r.jsx)(i.z,{type:"submit",className:"w-full",children:"Register"})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,r.jsx)("span",{className:"w-full border-t"})}),(0,r.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,r.jsx)("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),(0,r.jsxs)("button",{className:"w-full inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2",children:[(0,r.jsx)("svg",{role:"img",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{fill:"currentColor",d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z"})}),"Google"]}),(0,r.jsx)("p",{className:"text-center mt-4 text-sm text-muted-foreground",children:(0,r.jsx)(a.default,{href:"/login",className:"hover:text-brand underline underline-offset-4",children:"Already have an account? Login"})})]})})]})})},d.q,"/dashboard")},2660:(e,t,s)=>{"use strict";s.d(t,{q:()=>i});var r=s(7437),a=s(8185),n=s(2183);function i(){return(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsxs)(a.Zb,{className:"w-[350px]",children:[(0,r.jsx)(a.Ol,{children:(0,r.jsx)(n.O,{className:"h-8 w-3/4"})}),(0,r.jsxs)(a.aY,{className:"space-y-4",children:[(0,r.jsx)(n.O,{className:"h-10 w-full"}),(0,r.jsx)(n.O,{className:"h-10 w-full"})]}),(0,r.jsx)(a.eW,{children:(0,r.jsx)(n.O,{className:"h-10 w-full"})})]})})}},9733:(e,t,s)=>{"use strict";s.d(t,{d:()=>o,z:()=>c});var r=s(7437),a=s(2265),n=s(1538),i=s(2218),l=s(8771);let o=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,t)=>{let{className:s,variant:a,size:i,asChild:c=!1,...d}=e,u=c?n.g7:"button";return(0,r.jsx)(u,{className:(0,l.cn)(o({variant:a,size:i,className:s})),ref:t,...d})});c.displayName="Button"},8185:(e,t,s)=>{"use strict";s.d(t,{Ol:()=>l,SZ:()=>c,Zb:()=>i,aY:()=>d,eW:()=>u,ll:()=>o});var r=s(7437),a=s(2265),n=s(8771);let i=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})});i.displayName="Card";let l=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s),...a})});l.displayName="CardHeader";let o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",s),...a})});o.displayName="CardTitle";let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...a})});c.displayName="CardDescription";let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",s),...a})});d.displayName="CardContent";let u=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",s),...a})});u.displayName="CardFooter"},7209:(e,t,s)=>{"use strict";s.d(t,{I:()=>i});var r=s(7437),a=s(2265),n=s(8771);let i=a.forwardRef((e,t)=>{let{className:s,type:a,...i}=e;return(0,r.jsx)("input",{type:a,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...i})});i.displayName="Input"},2183:(e,t,s)=>{"use strict";s.d(t,{O:()=>n});var r=s(7437),a=s(8771);function n(e){let{className:t,...s}=e;return(0,r.jsx)("div",{className:(0,a.cn)("animate-pulse rounded-md bg-muted",t),...s})}},3475:(e,t,s)=>{"use strict";s.d(t,{D:()=>l});var r=s(7437),a=s(2265),n=s(6463),i=s(8542);function l(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/";return function(l){let[o,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(!0),m=(0,n.useRouter)();return((0,a.useEffect)(()=>{(async()=>{await i.k.checkAuth()&&(m.push(s),c(!0)),u(!1)})()},[m]),d)?(0,r.jsx)(t,{}):o?null:(0,r.jsx)(e,{...l})}}},6763:(e,t,s)=>{"use strict";s.d(t,{pm:()=>m});var r=s(2265);let a=0,n=new Map,i=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},l=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?i(s):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],c={toasts:[]};function d(e){c=l(c,e),o.forEach(e=>{e(c)})}function u(e){let{...t}=e,s=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>d({type:"DISMISS_TOAST",toastId:s});return d({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||r()}}}),{id:s,dismiss:r,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function m(){let[e,t]=r.useState(c);return r.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}}},e=>{var t=t=>e(e.s=t);e.O(0,[522,240,699,231,365,159,374,959,771,130,215,744],()=>t(6358)),_N_E=e.O()}]);